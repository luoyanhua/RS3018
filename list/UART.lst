C51 COMPILER V9.54   UART                                                                  03/01/2022 19:48:49 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\list\Uart.obj
COMPILER INVOKED BY: D:\Program Files\keil_C51\C51\BIN\C51.EXE Uart.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(
                    -.\list\Uart.lst) OBJECT(.\list\Uart.obj)

line level    source

   1          /*---------------------------------------------------------------------*/
   2          /* --- STC MCU Limited ------------------------------------------------*/
   3          /* --- STC 1T Series MCU Demo Programme -------------------------------*/
   4          /* --- Mobile: (86)13922805190 ----------------------------------------*/
   5          /* --- Fax: 86-0513-55012956,55012947,55012969 ------------------------*/
   6          /* --- Tel: 86-0513-55012928,55012929,55012966 ------------------------*/
   7          /* --- Web: www.STCMCU.com --------------------------------------------*/
   8          /* --- Web: www.STCMCUDATA.com  ---------------------------------------*/
   9          /* --- QQ:  800003751 -------------------------------------------------*/
  10          /* 如果要在程序中使用此代码,请在程序中注明使用了STC的资料及程序            */
  11          /*---------------------------------------------------------------------*/
  12          
  13          #include "Task.h"
  14          #include "timer.h"
  15          #include "Beep.h"
  16          #include "Task.h"
  17          #include "Sensor.h"
  18          #include "Uart.h"
  19          #include "delay.h"
  20          
  21          #define IO_LOW() P11 = 0
  22          #define IO_HIGH() P11 = 1
  23          
  24          void VirtualCOM_ByteSend(unsigned char val)
  25          {
  26   1      
  27   1          unsigned char i;
  28   1      
  29   1          IO_LOW(); //起始位，拉低电平
  30   1      
  31   1          Delay208us();
  32   1      
  33   1          for (i = 0; i < 8; i++) //8位数据位
  34   1      
  35   1          {
  36   2      
  37   2              if (val & 0x01)
  38   2      
  39   2                  IO_HIGH();
  40   2      
  41   2              else
  42   2      
  43   2                  IO_LOW();
  44   2      
  45   2              Delay208us();
  46   2      
  47   2              val >>= 1;
  48   2          }
  49   1      
  50   1          IO_HIGH(); //停止位，拉高电平
  51   1      
  52   1          Delay208us();
  53   1      }
  54          
C51 COMPILER V9.54   UART                                                                  03/01/2022 19:48:49 PAGE 2   

  55          void VirtualCOM_StringSend(unsigned char *str)
  56          {
  57   1          while (*str != 0)
  58   1          {
  59   2              VirtualCOM_ByteSend(*str);
  60   2              str++;
  61   2          }
  62   1      }
  63          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     79    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
